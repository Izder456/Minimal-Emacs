<p>This is the eighth post in my toolchains adventures series. Please check
the previous posts in the <a rel="noopener" target="_blank" href="https://www.cambus.net/categories/toolchains/">toolchains</a> category for more context about
this journey. There was no Q2 2023 report as there wasn't really anything
worthwhile to write about.</p>
<p>In Pkgsrc land, I updated binutils to the <a rel="noopener" target="_blank" href="https://freshbsd.org/netbsd/pkgsrc/commit/2VUJaul8Sjn0GXyE">2.41</a> version, and mold to
the <a rel="noopener" target="_blank" href="https://freshbsd.org/netbsd/pkgsrc/commit/hEThY685zwgmjryE">2.0.0</a>, <a rel="noopener" target="_blank" href="https://freshbsd.org/netbsd/pkgsrc/commit/LAKGtWH9koo2kUAE">2.1.0</a>, and <a rel="noopener" target="_blank" href="https://freshbsd.org/netbsd/pkgsrc/commit/ez912PBJ3l4WZxGE">2.2.0</a> versions.
It's worth noting that Mold transitioned its license from <strong>AGPL</strong> to <strong>MIT</strong>
starting with the 2.0.0 release.</p>
<p>I also updated the NetBSD system call table in GDB to add the <em>memfd_create(2)</em>
and <em>epoll(2)</em> syscalls which were added in July.</p>
<p>Regarding OpenBSD, I updated binutils to version <a rel="noopener" target="_blank" href="https://freshbsd.org/openbsd/ports/commit/eluRBtCgq3JHeGDm">2.41</a>, allowing us to
remove patches for <strong>ARM</strong> support as they had been pushed upstream.</p>
<p>During this release cycle, OpenBSD enabled <a rel="noopener" target="_blank" href="https://undeadly.org/cgi?action=article;sid=20230714121907">mandatory enforcement of indirect
branch targets</a> using Intel's <strong>IBT</strong> on OpenBSD/amd64 and ARM's <strong>BTI</strong>
on OpenBSD/arm64. I added support upstream for the <strong>PT_OPENBSD_NOBTCFI</strong>
segment type to <em>readelf</em> in GNU Binutils, as well as in LLVM versions of
<em>objdump</em> and <em>readobj</em>.</p>
<p>As usual, Iâ€™ve also been busy reading different material, and adding new
resources to <a rel="noopener" target="_blank" href="https://www.toolchains.net/">toolchains.net</a>.</p>
<p>binutils and GDB commits:</p>
<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>
<tr><td>2023-09-28</td><td><a rel="noopener" target="_blank" href="https://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=73b22419edd563cf26bc8688c3f04fb3cf414cb0">73b2241</a></td><td>Add support to readelf for the PT_OPENBSD_NOBTCFI segment type</td></tr>
<tr><td>2023-09-21</td><td><a rel="noopener" target="_blank" href="https://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=9c1e3e42042643194bd53fd003b24098b7f65639">9c1e3e4</a></td><td>Update the NetBSD system call table to add memfd_create(2) and epoll(2)</td></tr>
</tbody></table>
<p>LLVM commits</p>
<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>
<tr><td>2023-09-25</td><td><a rel="noopener" target="_blank" href="https://github.com/llvm/llvm-project/commit/e5038f0f34c93399ee99e31c739f9945cadf9b70">e5038f0</a></td><td>[llvm-readobj] Add support for the PT_OPENBSD_NOBTCFI segment type</td></tr>
<tr><td>2023-09-22</td><td><a rel="noopener" target="_blank" href="https://github.com/llvm/llvm-project/commit/a921f2a3d721aac0814b6e319b81db1bc46cd3f8">a921f2a</a></td><td>[llvm-objdump] Add support for the PT_OPENBSD_NOBTCFI segment type</td></tr>
<tr><td>2023-09-21</td><td><a rel="noopener" target="_blank" href="https://github.com/llvm/llvm-project/commit/ca3ed7b2a0fdea7349242c2b63fcb049fc4a2b14">ca3ed7b</a></td><td>[clang] Update Clang version from 17 to 18 in scan-build.1</td></tr>
</tbody></table>
